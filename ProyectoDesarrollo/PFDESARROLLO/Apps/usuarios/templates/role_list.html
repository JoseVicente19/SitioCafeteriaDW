{% extends 'baseusuarios.html' %} 

{% block contenido %}
<div class="container my-5">
    
    <h2>LISTADO DE ROLES</h2>
    
    {% if roles_list %}
    <table class="table table-striped mt-4" border="1">
        <thead>
            <tr>
                <th>NOMBRE</th>
                <th>FECHA DE CREACIÓN</th>
                <th>ESTADO</th> 
                <th>ACCIONES</th>
            </tr>
        </thead>
        <tbody>
            {% for rol in roles_list %}
            <tr>
                <td>{{ rol.descripcion }}</td>
                <td>{{ rol.creacion|date:"Y-m-d" }}</td>
                <td>
                    {% if rol.estado == 1 %}
                        <span class="badge bg-success">Activo</span>
                    {% else %}
                        <span class="badge bg-danger">Inactivo</span>
                    {% endif %}
                </td>
                
                <td>
                    <a href="{% url 'usuarios:editarrol' pk=rol.pk %}" class="btn btn-warning btn-sm">EDITAR</a>

                    <a href="{% url 'usuarios:rol_eliminar' pk=rol.pk %}" class="btn btn-danger btn-sm"
                        onclick="return confirm('¿Está seguro de que desea desactivar el rol {{ rol.descripcion }}?');">
                        ELIMINAR
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <div class="alert alert-info mt-4">No hay roles activos registrados.</div>
    {% endif %}


    <h2 class="mt-4">CREAR ROL AQUÍ</h2>
    <a href="{% url 'usuarios:crearrol' %}" class="btn btn-success">CREAR ROL</a>
</div>
{% endblock contenido %}